<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://cryptocoinjs.com/modules/currency/coinstring/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

        <title>coinstring - Create & Parse Addresses / WIF / Base58 - CryptoCoinJS</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">CryptoCoinJS</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../..">Main</a>
                        </li>
                    
                        <li >
                            <a href="../../../about/contributing/">Contributing</a>
                        </li>
                    
                        <li >
                            <a href="../../../about/faq/">FAQ</a>
                        </li>
                    
                        <li >
                            <a href="../../../about/team/">Team</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../../guide/getting-started/">Getting Started</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Currency Modules <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../bip38/">bip38 - Password encrypted private keys</a>
                        </li>
                    
                        <li >
                            <a href="../btc-p2p/">btc-p2p - Manage a network of peers in a Bitcoin p2p network</a>
                        </li>
                    
                        <li >
                            <a href="../coininfo/">coininfo - Crypto Currency Specific Information</a>
                        </li>
                    
                        <li >
                            <a href="../coinkey/">coinkey - Private Keys / Addresses</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">coinstring - Create & Parse Addresses / WIF / Base58</a>
                        </li>
                    
                        <li >
                            <a href="../eckey/">eckey - Private Keys / Elliptic Curve</a>
                        </li>
                    
                        <li >
                            <a href="../p2p-manager/">p2p-manager - Manage a network of peers in a p2p network</a>
                        </li>
                    
                        <li >
                            <a href="../p2p-node/">p2p-node - Handle p2p traffic on crypto currency networks</a>
                        </li>
                    
                        <li >
                            <a href="../btc-address/">btc-address - Bitcoin Address Handling</a>
                        </li>
                    
                        <li >
                            <a href="../btc-opcode/">btc-opcode - Bitcoin Opcodes</a>
                        </li>
                    
                        <li >
                            <a href="../btc-script/">btc-script - Bitcoin Script</a>
                        </li>
                    
                        <li >
                            <a href="../btc-scriptinterpreter/">btc-scriptinterpreter - Bitcoin Script Interpreter</a>
                        </li>
                    
                        <li >
                            <a href="../btc-transaction/">btc-transaction - Bitcon Transaction Creation / Parsing</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Crypto Modules <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../crypto/aes/">aes - Advanced Encryption Standard</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/crypto-hashing/">crypto-hashing - Normalized interface to hash functions</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/ecdsa/">ecdsa - Elliptic Curve Signing / Verification</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/ecurve/">ecurve - Elliptic Curve Cryptography</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/pbkdf2-sha256/">pbkdf2-sha256 - PBKDF2 using SHA256 HMAC</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/ripemd160/">ripemd160 - RIPEMD160 hash</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/scryptsy/">scryptsy - Scrypt Key Derivation</a>
                        </li>
                    
                        <li >
                            <a href="../../crypto/sha512/">sha512 - SHA 512 Secure Hashing Algorithm</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Misc Modules <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../misc/bigi/">bigi - Big Integers</a>
                        </li>
                    
                        <li >
                            <a href="../../misc/binstring/">binstring - Convert data types</a>
                        </li>
                    
                        <li >
                            <a href="../../misc/bs58/">bs58 - BASE58 encoding / decoding</a>
                        </li>
                    
                        <li >
                            <a href="../../misc/qr-encode/">qr-encode - Encode data into QR</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../coinkey/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../eckey/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/cryptocoinjs/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#coinstring">coinstring</a></li>
        
            <li><a href="#package-info">Package Info</a></li>
        
            <li><a href="#installation">Installation</a></li>
        
            <li><a href="#examples">Examples</a></li>
        
            <li><a href="#api">API</a></li>
        
            <li><a href="#list-of-common-crypto-currency-versions">List of Common Crypto Currency Versions</a></li>
        
            <li><a href="#use-in-the-browser">Use in the Browser</a></li>
        
            <li><a href="#references">References</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="coinstring">coinstring</h1>
<p><a href="http://travis-ci.org/cryptocoinjs/coinstring"><img alt="build status" src="https://secure.travis-ci.org/cryptocoinjs/coinstring.png" /></a>
<a href="https://coveralls.io/r/cryptocoinjs/coinstring"><img alt="Coverage Status" src="https://img.shields.io/coveralls/cryptocoinjs/coinstring.svg" /></a>
<a href="https://www.npmjs.org/package/coinstring"><img alt="Version" src="http://img.shields.io/npm/v/coinstring.svg" /></a></p>
<p><a href="https://ci.testling.com/cryptocoinjs/coinstring"><img alt="browser support" src="https://ci.testling.com/cryptocoinjs/coinstring.png" /></a></p>
<p>JavaScript component that's used to generate relevant addresses, wallet import formats, BIP32 encodings, and <a href="https://en.bitcoin.it/wiki/Base58Check_encoding">base 58 check encoding</a>
used by various crypto currencies. The difference between this and base58 check encoding is not much other than base 58 check encoding
specifies that the version should only have one byte. This means that base 58 check encoding technically would NOT work for BIP 32
addresses, but this module does work with BIP 32 addresses.</p>
<p>Works in Node.js and the browser.</p>
<h2 id="package-info">Package Info</h2>
<ul>
<li>github: <a href="https://github.com/cryptocoinjs/coinstring">https://github.com/cryptocoinjs/coinstring</a></li>
<li>tests: <a href="https://github.com/cryptocoinjs/coinstring/tree/master/test">https://github.com/cryptocoinjs/coinstring/tree/master/test</a></li>
<li>issues: <a href="https://github.com/cryptocoinjs/coinstring/issues">https://github.com/cryptocoinjs/coinstring/issues</a></li>
<li>license: <strong>MIT</strong></li>
<li>versioning: <a href="http://semver-ftw.org">http://semver-ftw.org</a></li>
</ul>
<h2 id="installation">Installation</h2>
<pre class="prettyprint well"><code>npm install coinstring --save
</code></pre>
<h2 id="examples">Examples</h2>
<p><strong>Note:</strong> You'd commonly use this package in conjunction with <a href="http://cryptocoinjs.com/modules/currency/coininfo/">coininfo</a>.</p>
<h3 id="convert-private-key-to-bitcoin-wallet-import-format">Convert Private Key to Bitcoin Wallet Import Format</h3>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var privateKeyHex = &quot;1184cd2cdd640ca42cfc3a091c51d549b2f016d454b2774019c2b2d2e08529fd&quot;
var privateKeyHexBuf = new Buffer(privateKeyHex, 'hex')
var version = 0x080; //Bitcoin private key

console.log(cs.encode(privateKeyHexBuf, version)) 
// =&gt; 5Hx15HFGyep2CfPxsJKe2fXJsCVn5DEiyoeGGF6JZjGbTRnqfiD
</code></pre>

<h3 id="convert-hash160-aka-pubkeyhash-to-bitcoin-address">Convert hash160 (aka pubKeyHash) to Bitcoin Address</h3>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var hash160 = &quot;3c176e659bea0f29a3e9bf7880c112b1b31b4dc8&quot; //hash representing uncompressed
var hash160Buf = new Buffer(hash160, 'hex')
var version = 0x00; //Bitcoin public address

console.log(cs.encode(hash160Buf, version)); 
// =&gt; 16UjcYNBG9GTK4uq2f7yYEbuifqCzoLMGS
</code></pre>

<h4 id="convert-private-key-to-compressed-bitcoin-wallet-import-format">Convert Private Key to Compressed Bitcoin Wallet Import Format</h4>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var privateKeyHex = &quot;1184cd2cdd640ca42cfc3a091c51d549b2f016d454b2774019c2b2d2e08529fd&quot;

//for compressed, append &quot;01&quot;
privateKeyHex += '01'

var privateKeyHexBuf = new Buffer(privateKeyHex, 'hex')
var version = 0x080 //Bitcoin private key

console.log(cs.encode(privateKeyHexBuf, version))
// =&gt; KwomKti1X3tYJUUMb1TGSM2mrZk1wb1aHisUNHCQXTZq5auC2qc3
</code></pre>

<h4 id="convert-hash160-aka-pubkeyhash-to-dogecoin-address">Convert hash160 (aka pubkeyhash) to Dogecoin Address</h4>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var hash160 = &quot;3c176e659bea0f29a3e9bf7880c112b1b31b4dc8&quot; //hash representing uncompressed
var hash160Buf = new Buffer(hash160, 'hex')
var version = 0x1E //Dogecoin public address

console.log(cs.encode(hash160Buf, version)) 
// =&gt; DAcq9oJpZZAjr56RmF7Y5zmWboZWQ4HAsW
</code></pre>

<h3 id="encode-bip-32-bitcoin-private-key">Encode BIP 32 Bitcoin Private Key</h3>
<p>Base 58 check encoding cannot typically enocde these since it requires the version to only be one byte. Read more about
<a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki">BIP32 here</a>.</p>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var data = &quot;000000000000000000873dff81c02f525623fd1fe5167eac3a55a049de3d314bb42ee227ffed37d50800e8f32e723decf4051aefac8e2c93c9c5b214313817cdb01a1494b917c8436b35&quot; 
var buffer = new Buffer(data, 'hex')
var version = new Buffer('0488ade4', 'hex') //0488ade4 is a consant listed in the aforementioned bip32 wiki.

console.log(cs.encode(buffer, version)) 
// =&gt; xprv9s21ZrQH143K3QTDL4LXw2F7HEK3wJUD2nW2nRk4stbPy6cq3jPPqjiChkVvvNKmPGJxWUtg6LnF5kejMRNNU3TGtRBeJgk33yuGBxrMPHi
</code></pre>

<h3 id="decode-bitcoin-private-wallet-import-format-wif-to-private-key">Decode Bitcoin Private Wallet Import Format (WIF) to private key</h3>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var res = cs.decode('5Hx15HFGyep2CfPxsJKe2fXJsCVn5DEiyoeGGF6JZjGbTRnqfiD')
console.log(res.version.toString('hex')) // =&gt; 80
console.log(res.payload.toString('hex')) // =&gt; 1184cd2cdd640ca42cfc3a091c51d549b2f016d454b2774019c2b2d2e08529fd
</code></pre>

<h3 id="functional-goodies">Functional Goodies</h3>
<p><code>coinstring</code> also has some functional goodies. </p>
<h4 id="function-to-generate-bitcoin-wallet-import-format">Function to Generate Bitcoin Wallet Import Format</h4>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring')

var privateKeyHex = &quot;1184cd2cdd640ca42cfc3a091c51d549b2f016d454b2774019c2b2d2e08529fd&quot;;
var privateKeyHexBuf = new Buffer(privateKeyHex, 'hex')
var version = 0x080 //Bitcoin private key

var toBtcWif = cs.createEncoder(version)

//later in your program
console.log(toBtcWif(privateKeyHexBuf)) 
// =&gt; 5Hx15HFGyep2CfPxsJKe2fXJsCVn5DEiyoeGGF6JZjGbTRnqfiD
</code></pre>

<h4 id="function-to-parse-bitcoin-wallet-import-format">Function to Parse Bitcoin Wallet Import Format</h4>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring');

var wif = &quot;5Hx15HFGyep2CfPxsJKe2fXJsCVn5DEiyoeGGF6JZjGbTRnqfiD&quot;
var version = 0x080 //Bitcoin private key

var fromBtcWif = cs.createDecoder(version)

//later in your program
console.log(fromBtcWif(wif).payload.toString('hex')) 
// =&gt; 51184cd2cdd640ca42cfc3a091c51d549b2f016d454b2774019c2b2d2e08529fd
</code></pre>

<h4 id="function-to-validate-bitcoin-testnet-addresses">Function to Validate Bitcoin Testnet Addresses</h4>
<pre class="prettyprint well"><code class="js">var cs = require('coinstring');

var hash160 = &quot;3c176e659bea0f29a3e9bf7880c112b1b31b4dc8&quot; //hash representing uncompressed
var hash160Buf = new Buffer(hash160, 'hex')
var version = 0x6F //Bitcoin Testnet Address

var testnetAddressValidator = cs.createValidator(version)
console.log(testnetAddressValidator(&quot;mkzgubTA5Ahi6BPSkE6MN9pEafRutznkMe&quot;)) // =&gt; true
</code></pre>

<h2 id="api">API</h2>
<p><code>coinstring</code> exports the following six functions:</p>
<h3 id="encodepayload-version">encode(payload, version)</h3>
<p>Used to convert either a hash160 or private key into an address or wallet import format string respectively.</p>
<ul>
<li><code>payload</code>: A <code>Buffer</code>, <code>Array</code>, or <code>Uint8Array</code> of bytes, either the hash160 or private key.</li>
<li><code>version</code>: Is an integer representing the version or a <code>Buffer</code> if version is greater than one byte. The case where it's typically
greater than one byte is for working with BIP32.</li>
</ul>
<p>Returns the base58 encoded value of type <code>string</code>.</p>
<h3 id="decodebase58str-version">decode(base58str, [version])</h3>
<p>It is the inverse of the <code>encode()</code> function i.e. it converts the address or wallet import format into a <code>Buffer</code> of bytes. It
throws if the address or wallet import format is not valid. Not valid means that the version doesn't match, or the checksum is
incorrect. </p>
<ul>
<li><code>base58str</code>: A <code>string</code> that is either the wallet import format or public address.</li>
<li><code>version</code>: Is an integer representing the version or <code>Buffer</code>. See below for more information.</li>
</ul>
<p>Returns an object with the follow fields <code>version</code> of type <code>Buffer</code> and <code>payload</code> of type <code>Buffer</code>.</p>
<h3 id="isvalidbase58str-version">isValid(base58str, version)</h3>
<p>Validates whether the address string or wallet import format string is valid. </p>
<ul>
<li><code>base58str</code>: A <code>string</code> that is either the wallet import format or public address.</li>
<li><code>version</code>: Is an integer representing the version or <code>Buffer</code>. See below for more information.</li>
</ul>
<p>Returns a <code>true</code> or <code>false</code>.</p>
<h3 id="createencoderversion">createEncoder(version)</h3>
<p>Returns a function that takes as input the <code>payload</code> like from <code>encode()</code> above.</p>
<h3 id="createdecoderversion">createDecoder(version)</h3>
<p>Returns a function that takes as input the <code>base58str</code> like from <code>decode()</code> above.</p>
<h3 id="createvalidatorversion">createValidator(version)</h3>
<p>Returns a function that takes as input the <code>base58str</code> like from <code>isValid()</code> above.</p>
<h2 id="list-of-common-crypto-currency-versions">List of Common Crypto Currency Versions</h2>
<p>The following is a table of common crypto currency versions. It may seem a bit user unfriendly to have to input the number instead of something like "BTC"; we agree. Another module will be created to address this. In the meantime, use the table below.</p>
<table>
<tr><th>Crypto Coin</th><th>Public Address</th><th>Private Wallet Import Format</th></tr>
<tr><td>Bitcoin</td><td> 0x00</td><td> 0x80</td></tr>
<tr><td>Bitcoin Script Hash</td><td> 0x05</td><td> N/A</td></tr>
<tr><td>Bitcoin Testnet</td><td> 0x6E</td><td> 0xEF</td></tr>
<tr><td>Bitcoin Testnet Script Hash</td><td> 0xC4</td><td> N/A</td></tr>
<tr><td>Dogecoin</td><td> 0x1E</td><td> 0x9E</td></tr>
<tr><td>Litecoin</td><td> 0x30</td><td> 0xB0</td></tr>
<tr><td>Namecoin</td><td> 0x34</td><td> 0xB4</td></tr>
</table>

<p>You may also want to just use the module <a href="http://cryptocoinjs.com/modules/currency/coininfo/">coininfo</a> instead.</p>
<h2 id="use-in-the-browser">Use in the Browser</h2>
<p>Clone the repo:</p>
<pre class="prettyprint well"><code>git clone https://github.com/cryptocoinjs/coinstring
</code></pre>
<p>Install Browserify</p>
<pre class="prettyprint well"><code>npm install -g browserify
</code></pre>
<p>Nav to repo:</p>
<pre class="prettyprint well"><code>cd coinstring
</code></pre>
<p>Install dependencies:</p>
<pre class="prettyprint well"><code>npm install
</code></pre>
<p>Run browserify:</p>
<pre class="prettyprint well"><code>browserify --standalone coinstring &lt; lib/coinstring.js &gt; lib/coinstring.bundle.js
</code></pre>
<p>You can now drop <code>coinstring.bundle.js</code> in a <code>&lt;script&gt;</code> tag.</p>
<h2 id="references">References</h2>
<ul>
<li>http://procbits.com/2013/08/27/generating-a-bitcoin-address-with-javascript</li>
<li>http://brainwallet.org/</li>
</ul>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/prettify-1.0.min.js"></script>
        <script src="../../../js/base.js"></script>
    </body>
</html>